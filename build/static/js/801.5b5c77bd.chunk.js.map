{"version":3,"file":"static/js/801.5b5c77bd.chunk.js","mappings":"iSA8EA,EA5DwB,WACpB,IAAMA,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACjB,GAA0BC,EAAAA,EAAAA,YAA1B,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAAsBJ,EAAAA,EAAAA,YAAtB,eAAOK,EAAP,KAAYC,EAAZ,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAEQC,GAFR,MAEqBC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,QAA1CH,WAERI,EAAAA,EAAAA,YAAU,WACFL,EAAaM,IAAI,UAAYN,EAAaM,IAAI,QAC9CZ,EAASM,EAAaM,IAAI,UAC1BR,EAAOE,EAAaM,IAAI,UAE7B,KAEHD,EAAAA,EAAAA,YAAU,WACW,6BAAbJ,GACAL,GAAa,KAElB,CAACK,IAmBJ,OACI,iBAAKM,UAAU,YAAf,WACI,iBAAKA,UAAU,qBAAf,WACI,SAAC,KAAD,CAAaC,UAdJ,SAACC,GAClB,GAAIhB,GAASI,EAAK,CACd,IAAMa,EAAM,CACRb,IAAKA,EACLJ,MAAOA,EACPkB,aAAcF,EAAKG,OAEvBtB,GAASuB,EAAAA,EAAAA,IAAgBH,SAQrB,gBAAKI,IAAKC,EAAMC,IAAI,QAEvBrB,GACG,SAACsB,EAAA,EAAD,CACIC,MAAM,8HACNC,KAAK,mTAELC,aA5BQ,SAACC,GACjBA,GACAjC,EAASkC,EAAAA,EAAAA,UA4BL,MAEJ,SAACC,EAAA,EAAD","sources":["pages/MainPages/ConfirmPassword/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\n//Components\r\nimport { NewPassword } from \"@components/Forms\";\r\nimport Footer from \"@components/Footer\";\r\n\r\n//Icons\r\nimport back from \"@assets/img/authbackground.jpg\";\r\n\r\n//Styles\r\nimport \"./ConfirmPassword.scss\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport router from \"../../../utils/router\";\r\nimport ActivationModal from \"../../../components/Modals/ActivationModal\";\r\nimport { confirmPassword } from \"../../../store/auth/auth.api\";\r\n\r\nconst ConfirmPassword = () => {\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch();\r\n    const [token, setToken] = useState();\r\n    const [completed, setCompleted] = useState(false);\r\n    const [uid, setUid] = useState();\r\n    const [searchParams, setSearchParams] = useSearchParams();\r\n\r\n    const { messages } = useSelector((state) => state.user);\r\n\r\n    useEffect(() => {\r\n        if (searchParams.get(\"token\") && searchParams.get(\"id\")) {\r\n            setToken(searchParams.get(\"token\"));\r\n            setUid(searchParams.get(\"id\"));\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (messages === \"confirm_password_success\") {\r\n            setCompleted(true);\r\n        }\r\n    }, [messages]);\r\n\r\n    const activatedHandle = (toggle) => {\r\n        if (toggle) {\r\n            navigate(router.login);\r\n        }\r\n    };\r\n\r\n    const fetchConfirm = (data) => {\r\n        if (token && uid) {\r\n            const obj = {\r\n                uid: uid,\r\n                token: token,\r\n                new_password: data.pass1,\r\n            };\r\n            dispatch(confirmPassword(obj));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"main_auth\">\r\n            <div className=\"main_auth__content\">\r\n                <NewPassword fetchData={fetchConfirm} />\r\n                <img src={back} alt=\"\" />\r\n            </div>\r\n            {completed ? (\r\n                <ActivationModal\r\n                    title=\"Пароль успешно изменен!\"\r\n                    desc=\"Нажмите на кнопку продолжить чтобы войти в личный\r\n                кабинет\"\r\n                    handleChange={activatedHandle}\r\n                />\r\n            ) : null}\r\n\r\n            <Footer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ConfirmPassword;\r\n"],"names":["navigate","useNavigate","dispatch","useDispatch","useState","token","setToken","completed","setCompleted","uid","setUid","useSearchParams","searchParams","messages","useSelector","state","user","useEffect","get","className","fetchData","data","obj","new_password","pass1","confirmPassword","src","back","alt","ActivationModal","title","desc","handleChange","toggle","router","Footer"],"sourceRoot":""}
{"version":3,"file":"static/js/884.656f1f35.chunk.js","mappings":"4OA4EA,UA5DmB,WACf,IAAMA,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACjB,GAA0BC,EAAAA,EAAAA,YAA1B,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAAsBJ,EAAAA,EAAAA,YAAtB,eAAOK,EAAP,KAAYC,EAAZ,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAEA,GAFA,MAE6BC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,SAAlDC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,SACRC,GAAaL,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMK,QAA1CD,UAYRE,EAAAA,EAAAA,YAAU,WACFR,EAAaS,IAAI,UAAYT,EAAaS,IAAI,QAC9Cf,EAASM,EAAaS,IAAI,UAC1BX,EAAOE,EAAaS,IAAI,UAE7B,KAEHD,EAAAA,EAAAA,YAAU,WACW,wBAAbF,GACAV,GAAa,KAElB,CAACQ,EAAQC,EAAUC,IAQtB,OACI,iBAAKI,UAAU,YAAf,WACI,iBAAKA,UAAU,qBAAf,WACI,SAAC,KAAD,CAAgBC,UAhCD,WACvB,GAAIlB,GAASI,EAAK,CACd,IAAMe,EAAM,CACRf,IAAKA,EACLJ,MAAOA,GAEXH,GAASuB,EAAAA,EAAAA,IAAWD,SA2BhB,gBAAKE,IAAKC,EAAMC,IAAI,QAEvBrB,GACG,SAAC,IAAD,CACIsB,MAAM,iHACNC,KAAK,mTAELC,aAjBQ,SAACC,GACjBA,GACAhC,EAASiC,EAAAA,EAAAA,UAiBL,MAEJ,SAAC,IAAD","sources":["pages/MainPages/Activation/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router\";\r\n\r\n//Components\r\nimport { ActivationForm } from \"@components/Forms\";\r\nimport Footer from \"@components/Footer\";\r\n\r\n//Icons\r\nimport back from \"@assets/img/authbackground.jpg\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport ActivationModal from \"../../../components/Modals/ActivationModal\";\r\nimport router from \"../../../utils/router\";\r\nimport { activation } from \"../../../store/auth/auth.api\";\r\n\r\nconst Activation = () => {\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch();\r\n    const [token, setToken] = useState();\r\n    const [completed, setCompleted] = useState(false);\r\n    const [uid, setUid] = useState();\r\n    const [searchParams, setSearchParams] = useSearchParams();\r\n\r\n    const { isAuth, messages } = useSelector((state) => state.user);\r\n    const { complete } = useSelector((state) => state.auth);\r\n\r\n    const fetchActivatedData = () => {\r\n        if (token && uid) {\r\n            const obj = {\r\n                uid: uid,\r\n                token: token,\r\n            };\r\n            dispatch(activation(obj));\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (searchParams.get(\"token\") && searchParams.get(\"id\")) {\r\n            setToken(searchParams.get(\"token\"));\r\n            setUid(searchParams.get(\"id\"));\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (complete === \"complete_activation\") {\r\n            setCompleted(true);\r\n        }\r\n    }, [isAuth, messages, complete]);\r\n\r\n    const activatedHandle = (toggle) => {\r\n        if (toggle) {\r\n            navigate(router.login);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"main_auth\">\r\n            <div className=\"main_auth__content\">\r\n                <ActivationForm fetchData={fetchActivatedData} />\r\n                <img src={back} alt=\"\" />\r\n            </div>\r\n            {completed ? (\r\n                <ActivationModal\r\n                    title=\"Аккаунт активирован!\"\r\n                    desc=\"Нажмите на кнопку продолжить чтобы войти в личный\r\n                кабинет\"\r\n                    handleChange={activatedHandle}\r\n                />\r\n            ) : null}\r\n\r\n            <Footer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Activation;\r\n// MjE/b5xjww-9dca1d594b23a0bd49578e1c97b46189\r\n"],"names":["navigate","useNavigate","dispatch","useDispatch","useState","token","setToken","completed","setCompleted","uid","setUid","useSearchParams","searchParams","useSelector","state","user","isAuth","messages","complete","auth","useEffect","get","className","fetchData","obj","activation","src","back","alt","title","desc","handleChange","toggle","router"],"sourceRoot":""}
import React, { useEffect, useState } from "react";
import { useLocation } from "react-router";
import { Link, useSearchParams } from "react-router-dom";

//Router
import router from "@utils/router";

//Styles
import "./TraiderHistory.scss";

const historyRouter = [
    {
        url: router.history_payment,
        svg: (
            <svg
                width="14"
                height="15"
                viewBox="0 0 14 15"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M6.67188 9.39062C6.75391 9.47266 6.86328 9.5 7 9.5C7.10938 9.5 7.21875 9.47266 7.30078 9.39062L10.3633 6.32812C10.5273 6.16406 10.5273 5.86328 10.3633 5.69922C10.1992 5.53516 9.89844 5.53516 9.73438 5.69922L7.4375 8.02344V1.1875C7.4375 0.96875 7.21875 0.75 7 0.75C6.75391 0.75 6.5625 0.96875 6.5625 1.1875V8.02344L4.23828 5.69922C4.07422 5.53516 3.77344 5.53516 3.60938 5.69922C3.44531 5.86328 3.44531 6.16406 3.60938 6.32812L6.67188 9.39062ZM12.6875 9.5H10.5C10.3086 9.5 10.1719 9.60938 10.0898 9.74609L9.35156 11.25H4.62109L3.88281 9.74609C3.80078 9.60938 3.66406 9.5 3.5 9.5H1.3125C0.574219 9.5 0 10.1016 0 10.8125V13.4375C0 14.1758 0.574219 14.75 1.3125 14.75H12.6875C13.3984 14.75 14 14.1758 14 13.4375V10.8125C14 10.1016 13.3984 9.5 12.6875 9.5ZM13.125 13.4375C13.125 13.6836 12.9062 13.875 12.6875 13.875H1.3125C1.06641 13.875 0.875 13.6836 0.875 13.4375V10.8125C0.875 10.5938 1.06641 10.375 1.3125 10.375H3.22656L3.96484 11.9062C4.04688 12.043 4.18359 12.125 4.34766 12.125H9.625C9.78906 12.125 9.92578 12.043 10.0078 11.9062L10.7461 10.375H12.6875C12.9062 10.375 13.125 10.5938 13.125 10.8125V13.4375Z"
                    fill="#09090E"
                />
            </svg>
        ),
        title: "Пополнение",
    },
    {
        url: router.history_cash,
        svg: (
            <svg
                width="14"
                height="15"
                viewBox="0 0 14 15"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M4.23828 4.57812L6.5625 2.25391V9.0625C6.5625 9.30859 6.75391 9.5 7 9.5C7.21875 9.5 7.4375 9.30859 7.4375 9.0625V2.25391L9.73438 4.57812C9.89844 4.74219 10.1992 4.74219 10.3633 4.57812C10.5273 4.41406 10.5273 4.11328 10.3633 3.94922L7.30078 0.886719C7.21875 0.804688 7.10938 0.75 7 0.75C6.86328 0.75 6.75391 0.804688 6.67188 0.886719L3.60938 3.94922C3.44531 4.11328 3.44531 4.41406 3.60938 4.57812C3.77344 4.74219 4.07422 4.74219 4.23828 4.57812ZM12.6875 9.5H10.5C10.3086 9.5 10.1719 9.60938 10.0898 9.74609L9.35156 11.25H4.62109L3.88281 9.74609C3.80078 9.60938 3.66406 9.5 3.5 9.5H1.3125C0.574219 9.5 0 10.1016 0 10.8125V13.4375C0 14.1758 0.574219 14.75 1.3125 14.75H12.6875C13.3984 14.75 14 14.1758 14 13.4375V10.8125C14 10.1016 13.3984 9.5 12.6875 9.5ZM13.125 13.4375C13.125 13.6836 12.9062 13.875 12.6875 13.875H1.3125C1.06641 13.875 0.875 13.6836 0.875 13.4375V10.8125C0.875 10.5938 1.06641 10.375 1.3125 10.375H3.22656L3.96484 11.9062C4.04688 12.043 4.18359 12.125 4.34766 12.125H9.625C9.78906 12.125 9.92578 12.043 10.0078 11.9062L10.7461 10.375H12.6875C12.9062 10.375 13.125 10.5938 13.125 10.8125V13.4375Z"
                    fill="#09090E"
                />
            </svg>
        ),
        title: "Вывод",
    },
    {
        url: router.history_cash_group,
        svg: (
            <svg
                width="14"
                height="15"
                viewBox="0 0 14 15"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M6.67188 9.39062C6.75391 9.47266 6.86328 9.5 7 9.5C7.10938 9.5 7.21875 9.47266 7.30078 9.39062L10.3633 6.32812C10.5273 6.16406 10.5273 5.86328 10.3633 5.69922C10.1992 5.53516 9.89844 5.53516 9.73438 5.69922L7.4375 8.02344V1.1875C7.4375 0.96875 7.21875 0.75 7 0.75C6.75391 0.75 6.5625 0.96875 6.5625 1.1875V8.02344L4.23828 5.69922C4.07422 5.53516 3.77344 5.53516 3.60938 5.69922C3.44531 5.86328 3.44531 6.16406 3.60938 6.32812L6.67188 9.39062ZM12.6875 9.5H10.5C10.3086 9.5 10.1719 9.60938 10.0898 9.74609L9.35156 11.25H4.62109L3.88281 9.74609C3.80078 9.60938 3.66406 9.5 3.5 9.5H1.3125C0.574219 9.5 0 10.1016 0 10.8125V13.4375C0 14.1758 0.574219 14.75 1.3125 14.75H12.6875C13.3984 14.75 14 14.1758 14 13.4375V10.8125C14 10.1016 13.3984 9.5 12.6875 9.5ZM13.125 13.4375C13.125 13.6836 12.9062 13.875 12.6875 13.875H1.3125C1.06641 13.875 0.875 13.6836 0.875 13.4375V10.8125C0.875 10.5938 1.06641 10.375 1.3125 10.375H3.22656L3.96484 11.9062C4.04688 12.043 4.18359 12.125 4.34766 12.125H9.625C9.78906 12.125 9.92578 12.043 10.0078 11.9062L10.7461 10.375H12.6875C12.9062 10.375 13.125 10.5938 13.125 10.8125V13.4375Z"
                    fill="#09090E"
                />
            </svg>
        ),
        title: "Доходы с групп",
    },
    {
        url: router.history_cash_trade,
        svg: (
            <svg
                width="14"
                height="15"
                viewBox="0 0 14 15"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M6.67188 9.39062C6.75391 9.47266 6.86328 9.5 7 9.5C7.10938 9.5 7.21875 9.47266 7.30078 9.39062L10.3633 6.32812C10.5273 6.16406 10.5273 5.86328 10.3633 5.69922C10.1992 5.53516 9.89844 5.53516 9.73438 5.69922L7.4375 8.02344V1.1875C7.4375 0.96875 7.21875 0.75 7 0.75C6.75391 0.75 6.5625 0.96875 6.5625 1.1875V8.02344L4.23828 5.69922C4.07422 5.53516 3.77344 5.53516 3.60938 5.69922C3.44531 5.86328 3.44531 6.16406 3.60938 6.32812L6.67188 9.39062ZM12.6875 9.5H10.5C10.3086 9.5 10.1719 9.60938 10.0898 9.74609L9.35156 11.25H4.62109L3.88281 9.74609C3.80078 9.60938 3.66406 9.5 3.5 9.5H1.3125C0.574219 9.5 0 10.1016 0 10.8125V13.4375C0 14.1758 0.574219 14.75 1.3125 14.75H12.6875C13.3984 14.75 14 14.1758 14 13.4375V10.8125C14 10.1016 13.3984 9.5 12.6875 9.5ZM13.125 13.4375C13.125 13.6836 12.9062 13.875 12.6875 13.875H1.3125C1.06641 13.875 0.875 13.6836 0.875 13.4375V10.8125C0.875 10.5938 1.06641 10.375 1.3125 10.375H3.22656L3.96484 11.9062C4.04688 12.043 4.18359 12.125 4.34766 12.125H9.625C9.78906 12.125 9.92578 12.043 10.0078 11.9062L10.7461 10.375H12.6875C12.9062 10.375 13.125 10.5938 13.125 10.8125V13.4375Z"
                    fill="#09090E"
                />
            </svg>
        ),
        title: "Доходы с копирования",
    },
];

const TraiderSideBar = () => {
    const location = useLocation();
    const [searchParams, setSearchParams] = useSearchParams();
    const [type, setType] = useState();

    useEffect(() => {
        if (location.search) {
            setType(searchParams.get("type"));
        }
    }, [location.search]);

    return (
        <div className="history_sidebar">
            <nav className="history_sidebar__links">
                {historyRouter.map((e) => (
                    <Link
                        className={
                            e.url === "/history?type=" + type ? "active" : ""
                        }
                        to={e.url}
                    >
                        {e.svg}
                        {e.title}
                    </Link>
                ))}
            </nav>
        </div>
    );
};

export default TraiderSideBar;

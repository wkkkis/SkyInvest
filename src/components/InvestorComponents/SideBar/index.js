import React, { useState } from "react";
import { NavLink } from "react-router-dom";

//Icons
import logo from "@assets/img/logo.svg";
import balance from "@assets/img/balance.svg";

//Style
import "./SideBar.scss";

//Router
import router from "@utils/router";

//Components
import UserInfoBlock from "@components/UI/UserInfoBlock";
import LogoutModal from "@components/Modals/LogoutModal";
import { useSelector } from "react-redux";
import { useNavigate } from "react-router";

const sideBarRouter = {
    mainLinks: [
        {
            url: router.dashboard,
            svg: (
                <svg
                    width="14"
                    height="13"
                    viewBox="0 0 14 13"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M0.875 10.6875C0.875 11.4258 1.44922 12 2.1875 12H13.5625C13.7812 12 14 12.2188 14 12.4375C14 12.6836 13.7812 12.875 13.5625 12.875H2.1875C0.957031 12.875 0 11.918 0 10.6875V1.0625C0 0.84375 0.191406 0.625 0.4375 0.625C0.65625 0.625 0.875 0.84375 0.875 1.0625V10.6875ZM8.75 5L9.81641 3.93359C10.1719 3.57812 10.7734 3.60547 11.1016 3.98828L12.7969 5.95703C12.9883 6.20312 13.125 6.50391 13.125 6.80469V9.375C13.125 9.86719 12.7148 10.25 12.25 10.25H3.5C3.00781 10.25 2.625 9.86719 2.625 9.375V6.42188C2.625 6.09375 2.76172 5.73828 3.00781 5.49219L5.49609 3.00391C5.82422 2.67578 6.39844 2.67578 6.72656 3.00391L8.75 5ZM6.125 3.63281L3.60938 6.12109C3.52734 6.20312 3.5 6.3125 3.5 6.42188V9.375H12.25V6.80469C12.25 6.69531 12.1953 6.61328 12.1406 6.53125L10.4453 4.5625L9.35156 5.62891C9.1875 5.79297 8.96875 5.875 8.75 5.875C8.50391 5.875 8.28516 5.79297 8.12109 5.62891L6.125 3.63281Z"
                        fill="#09090E"
                    />
                </svg>
            ),
            title: "Dasboard",
        },
        {
            url: router.groups,
            svg: (
                <svg
                    width="18"
                    height="15"
                    viewBox="0 0 18 15"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M16.5742 9.99219H16.3555V9.77344C16.3555 9.14453 15.8633 8.625 15.2344 8.625H14.1406C13.4844 8.625 12.9922 9.14453 12.9922 9.77344V9.99219H12.7734C12.1172 9.99219 11.625 10.5117 11.625 11.1406V12.2344C11.625 12.8906 12.1172 13.3828 12.7461 13.3828H12.9648V13.6016C12.9648 14.2578 13.457 14.75 14.1133 14.75H15.207C15.8359 14.75 16.3281 14.2578 16.3281 13.6016V13.3828H16.5469C17.2305 13.3828 17.75 12.8906 17.75 12.2344V11.1406C17.75 10.5117 17.2305 9.99219 16.5742 9.99219ZM16.875 12.2344C16.875 12.3984 16.7383 12.5078 16.6016 12.5078H15.5078V13.6016C15.5078 13.7656 15.3711 13.875 15.2344 13.875H14.1406C14.0039 13.875 13.8672 13.7656 13.8672 13.6016V12.5078H12.7734C12.6094 12.5078 12.5 12.3984 12.5 12.2344V11.1406C12.5 11.0039 12.6094 10.8672 12.7461 10.8672H13.8398V9.77344C13.8398 9.63672 13.9492 9.5 14.1133 9.5H15.207C15.3438 9.5 15.4531 9.63672 15.4531 9.77344V10.8672H16.5469C16.7383 10.8672 16.875 11.0039 16.875 11.1406V12.2344ZM13.8125 6C13.5117 6 13.2109 6.08203 12.9375 6.19141C12.7188 6.30078 12.6094 6.54688 12.6914 6.76562C12.7734 7.01172 13.0469 7.12109 13.293 7.01172C13.457 6.92969 13.6211 6.875 13.8125 6.875H15.5898C16.0273 6.875 16.4375 7.14844 16.6562 7.53125C16.7383 7.66797 16.875 7.75 17.0391 7.75C17.3945 7.75 17.5859 7.39453 17.4219 7.09375C17.0391 6.4375 16.3555 6 15.5898 6H13.8125ZM14.25 5.125C15.4531 5.125 16.4375 4.16797 16.4375 2.9375C16.4375 1.73438 15.4531 0.75 14.25 0.75C13.0195 0.75 12.0625 1.73438 12.0625 2.9375C12.0625 4.16797 13.0195 5.125 14.25 5.125ZM14.25 1.625C14.9609 1.625 15.5625 2.22656 15.5625 2.9375C15.5625 3.67578 14.9609 4.25 14.25 4.25C13.5117 4.25 12.9375 3.67578 12.9375 2.9375C12.9375 2.22656 13.5117 1.625 14.25 1.625ZM11.1875 13.875H4.625C4.70703 12.4258 6.01953 11.25 7.60547 11.25H10.3125C10.5312 11.25 10.75 11.0586 10.75 10.8125C10.75 10.5938 10.5312 10.375 10.3125 10.375H7.63281C5.47266 10.375 3.75 12.0156 3.75 14.0391C3.75 14.4492 4.07812 14.75 4.51562 14.75H11.1875C11.4062 14.75 11.625 14.5586 11.625 14.3125C11.625 14.0938 11.4062 13.875 11.1875 13.875ZM4.67969 7.01172C4.89844 7.12109 5.17188 7.01172 5.28125 6.79297C5.36328 6.57422 5.28125 6.32812 5.0625 6.21875C4.78906 6.08203 4.48828 6 4.1875 6H2.38281C1.20703 6 0.25 7.03906 0.25 8.26953V8.625C0.25 8.87109 0.441406 9.0625 0.6875 9.0625C0.90625 9.0625 1.125 8.87109 1.125 8.625V8.26953C1.125 7.50391 1.69922 6.875 2.38281 6.875H4.1875C4.35156 6.875 4.51562 6.92969 4.67969 7.01172ZM3.75 5.125C4.95312 5.125 5.9375 4.16797 5.9375 2.9375C5.9375 1.73438 4.95312 0.75 3.75 0.75C2.51953 0.75 1.5625 1.73438 1.5625 2.9375C1.5625 4.16797 2.51953 5.125 3.75 5.125ZM3.75 1.625C4.46094 1.625 5.0625 2.22656 5.0625 2.9375C5.0625 3.67578 4.46094 4.25 3.75 4.25C3.01172 4.25 2.4375 3.67578 2.4375 2.9375C2.4375 2.22656 3.01172 1.625 3.75 1.625ZM8.97266 9.5C10.5586 9.5 11.8164 8.24219 11.8164 6.65625C11.8164 5.09766 10.5312 3.8125 8.97266 3.8125C7.41406 3.8125 6.15625 5.09766 6.15625 6.65625C6.12891 8.24219 7.41406 9.5 8.97266 9.5ZM8.97266 4.6875C10.0664 4.6875 10.9414 5.58984 10.9414 6.65625C10.9414 7.75 10.0664 8.625 8.97266 8.625C7.90625 8.625 7.00391 7.75 7.00391 6.65625C7.00391 5.58984 7.90625 4.6875 8.97266 4.6875Z"
                        fill="#09090E"
                    />
                </svg>
            ),
            title: "Мои группы",
        },
        {
            url: router.mycopy,
            svg: (
                <svg
                    width="14"
                    height="15"
                    viewBox="0 0 14 15"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M6.39844 0.886719C6.58984 0.804688 6.78125 0.75 7 0.75C7.19141 0.75 7.38281 0.804688 7.57422 0.886719L13.5352 3.56641C13.8086 3.67578 14 3.94922 14 4.25C14 4.57812 13.8086 4.85156 13.5352 4.96094L7.57422 7.64062C7.38281 7.72266 7.19141 7.75 7 7.75C6.78125 7.75 6.58984 7.72266 6.39844 7.64062L0.4375 4.96094C0.164062 4.85156 0 4.57812 0 4.25C0 3.94922 0.164062 3.67578 0.4375 3.56641L6.39844 0.886719ZM7 1.625C6.89062 1.625 6.80859 1.65234 6.75391 1.67969L1.01172 4.25L6.75391 6.84766C6.80859 6.875 6.89062 6.875 7 6.875C7.08203 6.875 7.16406 6.875 7.21875 6.84766L12.9609 4.25L7.21875 1.67969C7.16406 1.65234 7.08203 1.625 7 1.625ZM2.13281 6.76562C2.24219 6.98438 2.13281 7.25781 1.91406 7.36719L1.01172 7.75L6.75391 10.3477C6.80859 10.375 6.89062 10.375 7 10.375C7.08203 10.375 7.16406 10.375 7.21875 10.3477L12.9609 7.75L12.0586 7.36719C11.8398 7.25781 11.7305 6.98438 11.8398 6.76562C11.9492 6.54688 12.1953 6.46484 12.4141 6.54688L13.5352 7.06641C13.8086 7.17578 14 7.44922 14 7.75C14 8.07812 13.8086 8.35156 13.5352 8.46094L7.57422 11.1406C7.38281 11.2227 7.19141 11.25 7 11.25C6.78125 11.25 6.58984 11.2227 6.39844 11.1406L0.4375 8.46094C0.164062 8.35156 0 8.07812 0 7.75C0 7.44922 0.164062 7.17578 0.4375 7.06641L1.55859 6.54688C1.77734 6.46484 2.02344 6.54688 2.13281 6.76562ZM1.01172 11.25L6.75391 13.8477C6.80859 13.875 6.89062 13.875 7 13.875C7.08203 13.875 7.16406 13.875 7.21875 13.8477L12.9609 11.25L12.0586 10.8672C11.8398 10.7578 11.7305 10.4844 11.8398 10.2656C11.9492 10.0469 12.1953 9.96484 12.4141 10.0469L13.5352 10.5664C13.8086 10.6758 14 10.9492 14 11.25C14 11.5781 13.8086 11.8516 13.5352 11.9609L7.57422 14.6406C7.38281 14.7227 7.19141 14.75 7 14.75C6.78125 14.75 6.58984 14.7227 6.39844 14.6406L0.4375 11.9609C0.164062 11.8516 0 11.5781 0 11.25C0 10.9492 0.164062 10.6758 0.4375 10.5664L1.55859 10.0469C1.77734 9.96484 2.02344 10.0469 2.13281 10.2656C2.24219 10.4844 2.13281 10.7578 1.91406 10.8672L1.01172 11.25Z"
                        fill="#09090E"
                    />
                </svg>
            ),
            title: "Мои копирования",
        },
        {
            url: router.payment,
            svg: (
                <svg
                    width="14"
                    height="15"
                    viewBox="0 0 14 15"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M6.67188 9.39062C6.75391 9.47266 6.86328 9.5 7 9.5C7.10938 9.5 7.21875 9.47266 7.30078 9.39062L10.3633 6.32812C10.5273 6.16406 10.5273 5.86328 10.3633 5.69922C10.1992 5.53516 9.89844 5.53516 9.73438 5.69922L7.4375 8.02344V1.1875C7.4375 0.96875 7.21875 0.75 7 0.75C6.75391 0.75 6.5625 0.96875 6.5625 1.1875V8.02344L4.23828 5.69922C4.07422 5.53516 3.77344 5.53516 3.60938 5.69922C3.44531 5.86328 3.44531 6.16406 3.60938 6.32812L6.67188 9.39062ZM12.6875 9.5H10.5C10.3086 9.5 10.1719 9.60938 10.0898 9.74609L9.35156 11.25H4.62109L3.88281 9.74609C3.80078 9.60938 3.66406 9.5 3.5 9.5H1.3125C0.574219 9.5 0 10.1016 0 10.8125V13.4375C0 14.1758 0.574219 14.75 1.3125 14.75H12.6875C13.3984 14.75 14 14.1758 14 13.4375V10.8125C14 10.1016 13.3984 9.5 12.6875 9.5ZM13.125 13.4375C13.125 13.6836 12.9062 13.875 12.6875 13.875H1.3125C1.06641 13.875 0.875 13.6836 0.875 13.4375V10.8125C0.875 10.5938 1.06641 10.375 1.3125 10.375H3.22656L3.96484 11.9062C4.04688 12.043 4.18359 12.125 4.34766 12.125H9.625C9.78906 12.125 9.92578 12.043 10.0078 11.9062L10.7461 10.375H12.6875C12.9062 10.375 13.125 10.5938 13.125 10.8125V13.4375Z"
                        fill="#09090E"
                    />
                </svg>
            ),
            title: "Пополнение",
        },
        {
            url: router.cash,
            svg: (
                <svg
                    width="14"
                    height="15"
                    viewBox="0 0 14 15"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M4.23828 4.57812L6.5625 2.25391V9.0625C6.5625 9.30859 6.75391 9.5 7 9.5C7.21875 9.5 7.4375 9.30859 7.4375 9.0625V2.25391L9.73438 4.57812C9.89844 4.74219 10.1992 4.74219 10.3633 4.57812C10.5273 4.41406 10.5273 4.11328 10.3633 3.94922L7.30078 0.886719C7.21875 0.804688 7.10938 0.75 7 0.75C6.86328 0.75 6.75391 0.804688 6.67188 0.886719L3.60938 3.94922C3.44531 4.11328 3.44531 4.41406 3.60938 4.57812C3.77344 4.74219 4.07422 4.74219 4.23828 4.57812ZM12.6875 9.5H10.5C10.3086 9.5 10.1719 9.60938 10.0898 9.74609L9.35156 11.25H4.62109L3.88281 9.74609C3.80078 9.60938 3.66406 9.5 3.5 9.5H1.3125C0.574219 9.5 0 10.1016 0 10.8125V13.4375C0 14.1758 0.574219 14.75 1.3125 14.75H12.6875C13.3984 14.75 14 14.1758 14 13.4375V10.8125C14 10.1016 13.3984 9.5 12.6875 9.5ZM13.125 13.4375C13.125 13.6836 12.9062 13.875 12.6875 13.875H1.3125C1.06641 13.875 0.875 13.6836 0.875 13.4375V10.8125C0.875 10.5938 1.06641 10.375 1.3125 10.375H3.22656L3.96484 11.9062C4.04688 12.043 4.18359 12.125 4.34766 12.125H9.625C9.78906 12.125 9.92578 12.043 10.0078 11.9062L10.7461 10.375H12.6875C12.9062 10.375 13.125 10.5938 13.125 10.8125V13.4375Z"
                        fill="#09090E"
                    />
                </svg>
            ),
            title: "Вывод",
        },
        {
            url: router.history,
            svg: (
                <svg
                    width="14"
                    height="15"
                    viewBox="0 0 14 15"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M14 7.75C14 11.6328 10.8555 14.75 7 14.75C3.11719 14.75 0 11.6328 0 7.75C0 6.30078 0.4375 4.96094 1.20312 3.83984C1.33984 3.62109 1.61328 3.56641 1.80469 3.70312C1.99609 3.83984 2.05078 4.11328 1.91406 4.33203C1.25781 5.31641 0.875 6.49219 0.875 7.75C0.875 11.1406 3.60938 13.875 7 13.875C10.3633 13.875 13.125 11.1406 13.125 7.75C13.125 4.52344 10.6094 1.87109 7.4375 1.65234V3.8125C7.4375 4.05859 7.21875 4.25 7 4.25C6.75391 4.25 6.5625 4.05859 6.5625 3.8125V1.1875C6.5625 0.96875 6.75391 0.75 7 0.75C10.8555 0.75 14 3.89453 14 7.75ZM7.30078 7.44922C7.46484 7.61328 7.46484 7.91406 7.30078 8.07812C7.13672 8.24219 6.83594 8.24219 6.67188 8.07812L4.04688 5.45312C3.88281 5.28906 3.88281 4.98828 4.04688 4.82422C4.21094 4.66016 4.51172 4.66016 4.67578 4.82422L7.30078 7.44922Z"
                        fill="#09090E"
                    />
                </svg>
            ),
            title: "История операций",
        },
    ],
    personLinks: [
        {
            url: router.security,
            svg: (
                <svg
                    width="14"
                    height="15"
                    viewBox="0 0 14 15"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M12.7422 3.04688L7.49219 0.859375C7.32812 0.804688 7.16406 0.777344 7 0.777344C6.80859 0.777344 6.64453 0.804688 6.48047 0.859375L1.23047 3.04688C0.738281 3.26562 0.4375 3.73047 0.4375 4.25C0.4375 11.3047 5.60547 14.75 6.97266 14.75C8.33984 14.75 13.5625 11.3594 13.5625 4.25C13.5625 3.73047 13.2344 3.26562 12.7422 3.04688ZM12.6602 4.27734C12.6602 10.4297 8.12109 13.875 7 13.875C5.82422 13.875 1.3125 10.4023 1.3125 4.25C1.3125 4.08594 1.39453 3.92188 1.55859 3.86719L6.80859 1.67969C6.86328 1.65234 6.91797 1.625 7 1.625C7.05469 1.625 7.10938 1.65234 7.16406 1.67969L12.4141 3.86719C12.6602 3.97656 12.6602 4.19531 12.6602 4.27734ZM9.1875 5.72656C9.05078 5.72656 8.94141 5.75391 8.85938 5.83594L6.26172 8.46094L5.11328 7.3125C5.03125 7.23047 4.92188 7.17578 4.8125 7.17578C4.53906 7.17578 4.375 7.39453 4.375 7.61328C4.375 7.72266 4.40234 7.83203 4.48438 7.94141L5.96094 9.39062C6.04297 9.47266 6.15234 9.5 6.26172 9.5C6.37109 9.5 6.48047 9.47266 6.5625 9.39062L9.48828 6.46484C9.57031 6.38281 9.625 6.27344 9.625 6.16406C9.625 5.91797 9.43359 5.72656 9.1875 5.72656Z"
                        fill="#09090E"
                    />
                </svg>
            ),
            title: "Безопастность",
        },
        {
            url: router.profile,
            svg: (
                <svg
                    width="14"
                    height="15"
                    viewBox="0 0 14 15"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M7 0.75C3.11719 0.75 0 3.89453 0 7.75C0 11.6328 3.11719 14.75 7 14.75C10.8555 14.75 14 11.6328 14 7.75C14 3.89453 10.8555 0.75 7 0.75ZM7 13.875C5.6875 13.875 4.48438 13.4922 3.5 12.8086C3.60938 11.4414 4.73047 10.375 6.125 10.375H7.875C9.24219 10.375 10.3633 11.4414 10.4727 12.8086C9.48828 13.4922 8.28516 13.875 7 13.875ZM11.2383 12.1523C10.8555 10.6484 9.48828 9.5 7.875 9.5H6.125C4.48438 9.5 3.11719 10.6484 2.73438 12.1523C1.58594 11.0312 0.875 9.47266 0.875 7.75C0.875 4.38672 3.60938 1.625 7 1.625C10.3633 1.625 13.125 4.38672 13.125 7.75C13.125 9.47266 12.3867 11.0312 11.2383 12.1523ZM7 4.25C5.76953 4.25 4.8125 5.23438 4.8125 6.4375C4.8125 7.66797 5.76953 8.625 7 8.625C8.20312 8.625 9.1875 7.66797 9.1875 6.4375C9.1875 5.23438 8.20312 4.25 7 4.25ZM7 7.75C6.26172 7.75 5.6875 7.17578 5.6875 6.4375C5.6875 5.72656 6.26172 5.125 7 5.125C7.71094 5.125 8.3125 5.72656 8.3125 6.4375C8.3125 7.17578 7.71094 7.75 7 7.75Z"
                        fill="#09090E"
                    />
                </svg>
            ),
            title: "Профиль",
        },
    ],
};

const Sidebar = () => {
    const [logout, setLogout] = useState(false);
    const navigate = useNavigate();
    const { user } = useSelector((state) => state.user);

    const handleChange = (toggle) => {
        if (toggle) {
            navigate(router.login);
        }
        setLogout(false);
    };

    return (
        <div className="sidebar">
            <div className="sidebar__logo">
                <img src={logo} alt="" />
            </div>
            <div className="sidebar__balance">
                <div className="sidebar__balance__logo">
                    <img src={balance} alt="" />
                </div>
                <div className="sidebar__balance__information">
                    <div className="sidebar__balance__information__text">
                        <span>Баланс</span>
                    </div>
                    <div className="sidebar__balance__information__number">
                        <p>На вашем счету:</p>
                        <span>250.00 USDT</span>
                    </div>
                </div>
            </div>
            <div className="sidebar__todyprofit">
                <p>Профит за 24 часа</p>
                <span>+248.25 USDT</span>
            </div>
            <div className="sidebar__menu">
                <div className="sidebar__menu__title">
                    <span>Инвестиции</span>
                </div>
                <nav className="sidebar__menu__links">
                    {sideBarRouter.mainLinks.map((e) => (
                        <NavLink to={e.url}>
                            {e.svg}
                            {e.title}
                        </NavLink>
                    ))}
                </nav>
            </div>
            <div className="sidebar__menu">
                <div className="sidebar__menu__title">
                    <span>Личные данные</span>
                </div>
                <nav className="sidebar__menu__links">
                    {sideBarRouter.personLinks.map((e) => (
                        <NavLink to={e.url}>
                            {e.svg}
                            {e.title}
                        </NavLink>
                    ))}
                </nav>
            </div>
            {user ? (
                <UserInfoBlock
                    email={user.email}
                    name={`${user.first_name} ${user.last_name}`}
                    isLogout
                    handleChange={() => setLogout(true)}
                    logo="https://cdn.dribbble.com/users/24078/screenshots/15522433/media/e92e58ec9d338a234945ae3d3ffd5be3.jpg?compress=1&resize=400x300"
                />
            ) : null}
            {logout ? <LogoutModal handleChange={handleChange} /> : null}
        </div>
    );
};

export default Sidebar;
